<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<cc:interface>
	<cc:attribute name="user" required="true" />
	<cc:attribute name="credentials" required="true" />
</cc:interface>

<cc:implementation>
	<div class="form-group">
		<label for="email">Email</label>
		<h:inputText a:type="email" class="form-control" id="email"
			a:placeholder="Vložte email" value="#{cc.attrs.user.email}" required="true" />
		<small id="emailHelp" class="form-text text-muted">Nikdy
			nebudeme sdílet Váš email s nikým jiným.</small>
	</div>
	<div class="form-group">
		<label for="password">Heslo</label>
		<h:inputText a:type="password" class="form-control" id="password"
			value="#{credentials.password}" required="true" />
	</div>
	<div></div>
	<div class="row">
		<div class="form-group col-6">
			<label for="firstName">Jméno</label>
			<h:inputText type="text" class="form-control"
				a:placeholder="Vložte jméno" id="firstName"
				value="#{cc.attrs.user.firstName}" />
		</div>
		<div class="form-group col-6">
			<label for="lastName">Příjmení</label>
			<h:inputText type="text" class="form-control"
				a:placeholder="Vložte příjmení" id="secondName"
				value="#{cc.attrs.user.lastName}" />
		</div>
	</div>
	<div class="form-group">
		<label for="building">Zvolte preferované budovy</label>
		<h:selectManyListbox class="form-control" id="building"
			value="#{cc.attrs.user.prefferedBuildings}" size="5">
			<f:selectItems value="#{buildingController.getAllBuildings()}"
				var="b"
				itemLabel="#{b.getAbbreviation()} – #{b.street}, #{b.number}"
				itemValue="#{b.getAbbreviation()}" />
		</h:selectManyListbox>
	</div>
	<div class="form-group">
		<label for="department">Zvolte preferovaná pracoviště</label>
		<h:selectManyListbox class="form-control" id="department"
			value="#{cc.attrs.user.prefferedDepartments}" size="5">
			<f:selectItems value="#{departmentController.allDepartments}" var="d"
				itemLabel="#{d.getAbbreviation()} – #{d.fullName}"
				itemValue="#{d.getAbbreviation()}" />
		</h:selectManyListbox>
	</div>
	<div class="form-group">
		<label for="rooms">Zvolte preferované místnosti</label>
		<h:selectManyListbox class="form-control" id="rooms"
			value="#{cc.attrs.user.prefferedRooms}" size="5">
			<f:selectItems value="#{roomController.allFreeRoomsNow}" var="r"
				itemLabel="#{r.building.abbreviation}-#{r.roomNumber}"
				itemValue="#{r.id}" />				
		</h:selectManyListbox>
	</div>

</cc:implementation>
</html>